{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class RegisterComponent {\n  constructor(loginService, router) {\n    this.loginService = loginService;\n    this.router = router;\n    // Form group with all required fields for registration\n    this.registerForm = new FormGroup({\n      username: new FormControl('', [Validators.required]),\n      password: new FormControl('', [Validators.required]),\n      name: new FormControl(''),\n      email: new FormControl('', [Validators.email]),\n      phone: new FormControl(''),\n      address: new FormControl('')\n    });\n  }\n  ngOnInit() {}\n  // On form submit, gather all form values and call register service method\n  /**\n   * Handles the registration form submission.\n   *\n   * This method retrieves the form values and calls the `register` method of the `loginService`.\n   * It explicitly converts any `null` values in optional fields (name, email, phone, address) to `undefined`\n   * using the nullish coalescing operator (`?? undefined`). This ensures that the parameters match the expected\n   * types of the `register` method, which requires `undefined` for omitted optional values instead of `null`.\n   *\n   * On successful registration, the user is alerted and redirected to the login page.\n   * On failure, an error alert is shown.\n   */\n  onSubmit() {\n    const formValue = this.registerForm.value;\n    this.loginService.register(formValue.username, formValue.password, formValue.name ?? undefined, formValue.email ?? undefined, formValue.phone ?? undefined, formValue.address ?? undefined).subscribe(\n    // This converts null to undefined, which matches the parameter type.\n    // Handle successful registration\n    // This converts null to undefined, which matches the parameter type.\n    response => {\n      alert('Registration successful');\n      this.router.navigate(['/login']);\n    }, error => {\n      alert('Registration failed');\n    });\n  }\n  static #_ = this.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 21,\n    vars: 1,\n    consts: [[3, \"formGroup\", \"ngSubmit\"], [\"for\", \"username\"], [\"id\", \"username\", \"formControlName\", \"username\", \"type\", \"text\"], [\"for\", \"password\"], [\"id\", \"password\", \"formControlName\", \"password\", \"type\", \"password\"], [\"for\", \"name\"], [\"id\", \"name\", \"formControlName\", \"name\", \"type\", \"text\"], [\"for\", \"email\"], [\"id\", \"email\", \"formControlName\", \"email\", \"type\", \"email\"], [\"for\", \"phone\"], [\"id\", \"phone\", \"formControlName\", \"phone\", \"type\", \"tel\"], [\"for\", \"address\"], [\"id\", \"address\", \"formControlName\", \"address\", \"type\", \"text\"], [\"type\", \"submit\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(1, \"label\", 1);\n        i0.ɵɵtext(2, \"Username:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"input\", 2);\n        i0.ɵɵelementStart(4, \"label\", 3);\n        i0.ɵɵtext(5, \"Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"input\", 4);\n        i0.ɵɵelementStart(7, \"label\", 5);\n        i0.ɵɵtext(8, \"Name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"input\", 6);\n        i0.ɵɵelementStart(10, \"label\", 7);\n        i0.ɵɵtext(11, \"Email:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"input\", 8);\n        i0.ɵɵelementStart(13, \"label\", 9);\n        i0.ɵɵtext(14, \"Phone:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 10);\n        i0.ɵɵelementStart(16, \"label\", 11);\n        i0.ɵɵtext(17, \"Address:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"input\", 12);\n        i0.ɵɵelementStart(19, \"button\", 13);\n        i0.ɵɵtext(20, \"Register\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["FormGroup","FormControl","Validators","RegisterComponent","constructor","loginService","router","registerForm","username","required","password","name","email","phone","address","ngOnInit","onSubmit","formValue","value","register","undefined","subscribe","response","alert","navigate","error","_","i0","ɵɵdirectiveInject","i1","LoginService","i2","Router","_2","selectors","decls","vars","consts","template","RegisterComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","RegisterComponent_Template_form_ngSubmit_0_listener","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵproperty"],"sources":["E:\\Projects Overview\\1. Cloning-Projects\\angular-merges-changes\\src\\app\\register\\register.component.ts","E:\\Projects Overview\\1. Cloning-Projects\\angular-merges-changes\\src\\app\\register\\register.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\nimport { LoginService } from '../login.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  // Form group with all required fields for registration\r\n  registerForm = new FormGroup({\r\n    username: new FormControl('', [Validators.required]),\r\n    password: new FormControl('', [Validators.required]),\r\n    name: new FormControl(''),  // optional field\r\n    email: new FormControl('', [Validators.email]),\r\n    phone: new FormControl(''),\r\n    address: new FormControl('')\r\n  });\r\n\r\n  constructor(private loginService: LoginService, private router: Router) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  // On form submit, gather all form values and call register service method\r\n  /**\r\n   * Handles the registration form submission.\r\n   * \r\n   * This method retrieves the form values and calls the `register` method of the `loginService`.\r\n   * It explicitly converts any `null` values in optional fields (name, email, phone, address) to `undefined`\r\n   * using the nullish coalescing operator (`?? undefined`). This ensures that the parameters match the expected\r\n   * types of the `register` method, which requires `undefined` for omitted optional values instead of `null`.\r\n   * \r\n   * On successful registration, the user is alerted and redirected to the login page.\r\n   * On failure, an error alert is shown.\r\n   */\r\n  onSubmit(): void {\r\n    const formValue = this.registerForm.value;\r\n    this.loginService.register(\r\n  formValue.username!,\r\n  formValue.password!,\r\n  formValue.name ?? undefined, \r\n  formValue.email ?? undefined,\r\n  formValue.phone ?? undefined,\r\n  formValue.address ?? undefined\r\n).subscribe( // This converts null to undefined, which matches the parameter type.\r\n\r\n      // Handle successful registration\r\n      response => {\r\n        alert('Registration successful');\r\n        this.router.navigate(['/login']);\r\n      },\r\n      error => {\r\n        alert('Registration failed');\r\n      }\r\n    );\r\n  }\r\n}\r\n","<form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\">\r\n  <label for=\"username\">Username:</label>\r\n  <input id=\"username\" formControlName=\"username\" type=\"text\">\r\n\r\n  <label for=\"password\">Password:</label>\r\n  <input id=\"password\" formControlName=\"password\" type=\"password\">\r\n\r\n  <label for=\"name\">Name:</label>\r\n  <input id=\"name\" formControlName=\"name\" type=\"text\">\r\n\r\n  <label for=\"email\">Email:</label>\r\n  <input id=\"email\" formControlName=\"email\" type=\"email\">\r\n\r\n  <label for=\"phone\">Phone:</label>\r\n  <input id=\"phone\" formControlName=\"phone\" type=\"tel\">\r\n\r\n  <label for=\"address\">Address:</label>\r\n  <input id=\"address\" formControlName=\"address\" type=\"text\">\r\n\r\n  <button type=\"submit\">Register</button>\r\n</form>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}