{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(loginService, router) {\n      this.loginService = loginService;\n      this.router = router;\n      // Form group with all required fields for registration\n      this.registerForm = new FormGroup({\n        username: new FormControl('', [Validators.required]),\n        password: new FormControl('', [Validators.required]),\n        name: new FormControl(''),\n        email: new FormControl('', [Validators.email]),\n        phone: new FormControl(''),\n        address: new FormControl('')\n      });\n    }\n    ngOnInit() {}\n    // On form submit, gather all form values and call register service method\n    /**\n     * Handles the registration form submission.\n     *\n     * This method retrieves the form values and calls the `register` method of the `loginService`.\n     * It explicitly converts any `null` values in optional fields (name, email, phone, address) to `undefined`\n     * using the nullish coalescing operator (`?? undefined`). This ensures that the parameters match the expected\n     * types of the `register` method, which requires `undefined` for omitted optional values instead of `null`.\n     *\n     * On successful registration, the user is alerted and redirected to the login page.\n     * On failure, an error alert is shown.\n     */\n    onSubmit() {\n      const formValue = this.registerForm.value;\n      this.loginService.register(formValue.username, formValue.password, formValue.name ?? undefined, formValue.email ?? undefined, formValue.phone ?? undefined, formValue.address ?? undefined).subscribe(\n      // This converts null to undefined, which matches the parameter type.\n      // Handle successful registration\n      // This converts null to undefined, which matches the parameter type.\n      response => {\n        alert('Registration successful');\n        this.router.navigate(['/login']);\n      }, error => {\n        alert('Registration failed');\n      });\n    }\n    static #_ = this.ɵfac = function RegisterComponent_Factory(t) {\n      return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegisterComponent,\n      selectors: [[\"app-register\"]],\n      decls: 21,\n      vars: 1,\n      consts: [[3, \"formGroup\", \"ngSubmit\"], [\"for\", \"username\"], [\"id\", \"username\", \"formControlName\", \"username\", \"type\", \"text\"], [\"for\", \"password\"], [\"id\", \"password\", \"formControlName\", \"password\", \"type\", \"password\"], [\"for\", \"name\"], [\"id\", \"name\", \"formControlName\", \"name\", \"type\", \"text\"], [\"for\", \"email\"], [\"id\", \"email\", \"formControlName\", \"email\", \"type\", \"email\"], [\"for\", \"phone\"], [\"id\", \"phone\", \"formControlName\", \"phone\", \"type\", \"tel\"], [\"for\", \"address\"], [\"id\", \"address\", \"formControlName\", \"address\", \"type\", \"text\"], [\"type\", \"submit\"]],\n      template: function RegisterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_0_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(1, \"label\", 1);\n          i0.ɵɵtext(2, \"Username:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(3, \"input\", 2);\n          i0.ɵɵelementStart(4, \"label\", 3);\n          i0.ɵɵtext(5, \"Password:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(6, \"input\", 4);\n          i0.ɵɵelementStart(7, \"label\", 5);\n          i0.ɵɵtext(8, \"Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(9, \"input\", 6);\n          i0.ɵɵelementStart(10, \"label\", 7);\n          i0.ɵɵtext(11, \"Email:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"input\", 8);\n          i0.ɵɵelementStart(13, \"label\", 9);\n          i0.ɵɵtext(14, \"Phone:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(15, \"input\", 10);\n          i0.ɵɵelementStart(16, \"label\", 11);\n          i0.ɵɵtext(17, \"Address:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(18, \"input\", 12);\n          i0.ɵɵelementStart(19, \"button\", 13);\n          i0.ɵɵtext(20, \"Register\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n        }\n      },\n      dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName]\n    });\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}